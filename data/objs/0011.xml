<?xml version="1.0" encoding="UTF-8"?>
<thing>
 <id>11</id>
 <parent>8</parent>
 <owner>2</owner>
 <permissions>075</permissions>
 <properties>
  <owner>-1</owner>
  <permissions>077</permissions>
  <entry key="location" type="nil"/>
  <entry key="title" type="string">
   <owner>-1</owner>
   <permissions>075</permissions>
   <value>an exit</value>
  </entry>
  <entry key="contents" type="array">
   <owner>-1</owner>
   <permissions>075</permissions>
  </entry>
  <entry key="name" type="string">
   <owner>-1</owner>
   <permissions>075</permissions>
   <value>exit</value>
  </entry>
 </properties>
 <methods>
  <entry key="invoke" type="moolambda">
   <owner>-1</owner>
   <permissions>075</permissions>
   <params><![CDATA[what]]></params>
   <code><![CDATA[
	(define start what.location)
	(if (and this.dest.unlocked (this.dest:acceptable what))
		(what:%move this.dest)
		(if (neqv? what.location start)
			(start:tell_all (expand-refs this.msg_leave))
			; TODO print fail message?? (optional) "So and So tries to goes east but critically fails."
		)
		(if (eqv? what.location this.dest)
			; TODO print the join messages to what.location
			; TODO print an error message to the object's location so at least they know something wrong happened?? (assuming
			;	that this is the only way anybody in that object will know that someone entered)
		)
		(user:tell (expand-refs this.msg_user_success))
	)
]]></code>
  </entry>
 </methods>
</thing>
