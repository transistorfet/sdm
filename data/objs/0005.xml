<?xml version="1.0" encoding="UTF-8"?>
<thing>
 <id>5</id>
 <parent>1</parent>
 <owner>2</owner>
 <permissions>075</permissions>
 <properties>
  <owner>101</owner>
  <permissions>077</permissions>
  <entry key="location" type="nil"/>
  <entry key="contents" type="array">
   <owner>-1</owner>
   <permissions>075</permissions>
  </entry>
  <entry key="name" type="string">
   <owner>-1</owner>
   <permissions>075</permissions>
   <value>generic_channel</value>
  </entry>
 </properties>
 <methods>
  <owner>101</owner>
  <permissions>077</permissions>
  <entry key="leave" type="moolambda">
   <owner>-1</owner>
   <permissions>475</permissions>
   <params><![CDATA[]]></params>
   <code><![CDATA[
(if
 (!=
  (this.users:search
   user)
  -1)
 (begin
  (this.users:foreach
   (lambda
    (cur)
    (cur:notify
     'leave'
     user
     channel
     '')))
  (this.users:remove
   user)))
]]></code>
  </entry>
  <entry key="names" type="moolambda">
   <owner>-1</owner>
   <permissions>075</permissions>
   <params><![CDATA[]]></params>
   <code><![CDATA[
(define
 names
 '')
(this.users:foreach
 (lambda
  (cur)
  (set
   names
   (concat
    names
    cur.name
    ' '))))
(chop
 names)
]]></code>
  </entry>
  <entry key="emote" type="moolambda">
   <owner>-1</owner>
   <permissions>075</permissions>
   <params><![CDATA[text
]]></params>
   <code><![CDATA[
(this.users:foreach
 (lambda
  (cur)
  (cur:notify
   'emote'
   user
   channel
   text)))
]]></code>
  </entry>
  <entry key="join" type="moolambda">
   <owner>-1</owner>
   <permissions>475</permissions>
   <params><![CDATA[]]></params>
   <code><![CDATA[
(if
 (=
  (this.users:search
   user)
  -1)
 (begin
  (this.users:push
   user)
  (this.users:foreach
   (lambda
    (cur)
    (cur:notify
     'join'
     user
     channel
     '')))))
]]></code>
  </entry>
  <entry key="command" type="moolambda">
   <owner>-1</owner>
   <permissions>075</permissions>
   <params><![CDATA[text
]]></params>
   <code><![CDATA[
(user:notify
 'status'
 nil
 channel
 'Commands are not supported in this channel.')
]]></code>
  </entry>
  <entry key="say" type="moolambda">
   <owner>-1</owner>
   <permissions>075</permissions>
   <params><![CDATA[text
]]></params>
   <code><![CDATA[
(this.users:foreach
 (lambda
  (cur)
  (cur:notify
   'say'
   user
   channel
   text)))
]]></code>
  </entry>
  <entry key="quit" type="moolambda">
   <owner>-1</owner>
   <permissions>075</permissions>
   <params><![CDATA[]]></params>
   <code><![CDATA[
(if
 (!=
  (this.users:search
   user)
  -1)
 (begin))
]]></code>
  </entry>
 </methods>
</thing>
